function prettyDate(e){var t=new Date((e||"").replace(/-/g,"/").replace(/[TZ]/g," ")),n=((new Date).getTime()-t.getTime())/1e3,s=Math.floor(n/86400);if(!(isNaN(s)||0>s||s>=31))return 0==s&&(60>n&&"just now"||120>n&&"1 minute ago"||3600>n&&Math.floor(n/60)+" minutes ago"||7200>n&&"1 hour ago"||86400>n&&Math.floor(n/3600)+" hours ago")||1==s&&"yesterday"||7>s&&s+" days ago"||31>s&&Math.ceil(s/7)+" weeks ago"}function updatesearch(){classList(document.body)[""!==search.value?"add":"remove"]("searchvalue");var e,t;if(""!==search.value){for(searchurl.href="./#"+search.value,searchurl.className="active",e=0,t=searchresults.length;t>e;e++)classList(searchresults[e]).add("expanded"),searchresults[e].querySelectorAll("h2")[0].setAttribute("aria-expanded","true");document.querySelectorAll(".expanded").length?classList(noitemsNotification).add("visuallyhidden"):classList(noitemsNotification).remove("visuallyhidden")}else for(searchurl.className="",e=0,t=searchresults.length;t>e;e++)classList(searchresults[e]).remove("expanded"),searchresults[e].querySelectorAll("h2")[0].setAttribute("aria-expanded","false")}function showsearch(e){search.value=e,featureList.search(e),currentActiveHash=document.querySelector('a[href="#'+e+'"]'),lastActiveHash&&classList(lastActiveHash).remove("active"),currentActiveHash&&classList(currentActiveHash).add("active"),lastActiveHash=currentActiveHash,updatesearch()}function linkify(e){if(supports3DTransforms)for(var t=document.querySelectorAll(e),n=0,s=t.length;s>n;n++){var r=t[n];r.innerHTML='<span data-title="'+r.text+'">'+r.innerHTML+"</span>"}}Array.prototype.filter||(Array.prototype.filter=function(e,t){if(void 0===this||null===this)throw new TypeError;var n=Object(this),s=n.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],a=0;s>a;a++)if(a in n){var i=n[a];e.call(t,i,a,n)&&r.push(i)}return r}),Array.prototype.map||(Array.prototype.map=function(e,t){if(void 0===this||null===this)throw new TypeError;var n=Object(this),s=n.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=Array(s),a=0;s>a;a++)a in n&&(r[a]=e.call(t,n[a],a,n));return r}),function(e,t){"use strict";function n(e,n,a){var i,o,l,c,u,d,h=this;this.listContainer=r.getElementById(e),this.items=[],this.list=null,this.templateEngines={},this.maxVisibleItemsCount=n.maxVisibleItemsCount||200,o=function(n,r){if(r.list=r.list||e,r.listClass=r.listClass||"list",r.searchClass=r.searchClass||"search",r.sortClass=r.sortClass||"sort",i=new d(h,r),h.list=s.getByClass(r.listClass,h.listContainer,!0),s.addEvent(s.getByClass(r.searchClass,h.listContainer),"keyup",h.search),s.addEvent(s.getByClass(r.sortClass,h.listContainer),"click",h.sort),r.valueNames){var a=l.get(),o=r.valueNames;r.indexAsync?l.indexAsync(a,o):l.index(a,o)}n!==t&&h.add(n)},l={get:function(){for(var e=h.list.childNodes,n=[],s=0,r=e.length;r>s;s++)e[s].data===t&&n.push(e[s]);return n},index:function(e,t){for(var n=0,s=e.length;s>n;n++)h.items.push(new u(t,e[n]))},indexAsync:function(e,t){var n=e.splice(0,100);this.index(n,t),e.length>0&&setTimeout(function(){l.indexAsync(e,t)},10)}},this.add=function(e,n){var s=[],r=!1;e[0]===t&&(e=[e]);for(var a=0,o=e.length;o>a;a++){var l=null;e[a]instanceof u?(l=e[a],l.reload()):(r=h.items.length>h.maxVisibleItemsCount?!0:!1,l=new u(e[a],t,r)),r||i.add(l,n),h.items.push(l),s.push(l)}return s};this.addAsync=function(e,t){var n=t?t.count||100:100,s=e.splice(0,n);h.add(s,t),e.length>0&&setTimeout(function(){h.addAsync(e,t)},10)},this.remove=function(e,t,n){for(var s=0,r=0,a=h.items.length;a>r;r++)h.items[r].values()[e]==t&&(i.remove(h.items[r],n),h.items.splice(r,1),a--,s++);return s},this.get=function(e,t){for(var n=[],s=0,r=h.items.length;r>s;s++){var a=h.items[s];a.values()[e]==t&&n.push(a)}return 0==n.length?null:1==n.length?n[0]:n},this.sort=function(e,n){var r=(h.items.length,null),a=e.target||e.srcElement,o=!1,l="asc",u="desc";a===t?r=e:(r=s.getAttribute(a,"rel"),s.hasClass(a,l)?(s.addClass(a,u),s.removeClass(a,l),o=!1):(s.addClass(a,l),s.removeClass(a,u),o=!0)),n=n?n:function(e,t){return c.alphanum(e.values()[r],t.values()[r],o)},h.items.sort(n),i.clear();for(var d=0,f=h.items.length;f>d;d++)h.maxVisibleItemsCount>d&&i.add(h.items[d])},c={alphanum:function(e,n,s){(e===t||null===e)&&(e=""),(n===t||null===n)&&(n=""),e=e.toString().replace(/&(lt|gt);/g,function(e,t){return"lt"==t?"<":">"}),e=e.replace(/<\/?[^>]+(>|$)/g,""),n=n.toString().replace(/&(lt|gt);/g,function(e,t){return"lt"==t?"<":">"}),n=n.replace(/<\/?[^>]+(>|$)/g,"");for(var r=this.chunkify(e),a=this.chunkify(n),i=0;r[i]&&a[i];i++)if(r[i]!==a[i]){var o=Number(r[i]),l=Number(a[i]);return s?o==r[i]&&l==a[i]?o-l:r[i]>a[i]?1:-1:o==r[i]&&l==a[i]?l-o:r[i]>a[i]?-1:1}return r.length-a.length},chunkify:function(e){for(var t,n,s=[],r=0,a=-1,i=0;t=(n=e.charAt(r++)).charCodeAt(0);){var o=45==t||46==t||t>=48&&57>=t;o!==i&&(s[++a]="",i=o),s[a]+=n}return s}},this.search=function(e,n){var s=[],r=e.target||e.srcElement;e=r!==t?r.value.toLowerCase():e.toLowerCase(),e=e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");var a=!1;if(n===t&&(a=!0),i.clear(),""===e)for(var o=0,l=h.items.length;l>o&&o<h.maxVisibleItemsCount;o++)h.items[o].show();else for(var c=0,u=h.items.length;u>c;c++){var d=!1,f=h.items[c];a&&(n=f.values());for(var v in n)if(n.hasOwnProperty(v)&&null!==n[v]){var m=n[v].toString().toLowerCase();""!==e&&m.search(e)>-1&&(d=!0)}d&&s.push(f),d&&h.maxVisibleItemsCount>s.length&&f.show()}return s},this.filter=function(e){for(var n=[],s=0,r=h.items.length;r>s;s++){var a=h.items[s];e===!1||e===t?(a.show(),n.push(a)):e(a.values())?(n.push(a),a.show()):a.hide()}return n},this.size=function(){return h.items.length},u=function(e,n,s){var r=this,a={},o=function(e,n,s){if(n===t)s?r.values(e,s):r.values(e);else{r.elm=n;var a=i.get(r,e);r.values(a)}};this.values=function(e,n){if(e===t)return a;for(var s in e)e.hasOwnProperty(s)&&(a[s]=e[s]);n!==!0&&i.set(r,r.values())},this.show=function(){i.show(r)},this.hide=function(){i.hide(r)},o(e,n,s)},d=function(e,n){return n.engine=n.engine===t?"standard":n.engine.toLowerCase(),new h.constructor.prototype.templateEngines[n.engine](e,n)},o(a,n)}{var s,r=e.document;e.navigator,e.location}n.prototype.templateEngines={},n.prototype.templateEngines.standard=function(e,n){var a=s.getByClass(n.listClass,r.getElementById(n.list))[0],i=r.getElementById(n.item),o=this,l={tryItemSourceExists:function(){if(null===i)for(var e=a.childNodes,n=0,s=e.length;s>n;n++)if(e[n].data===t){i=e[n];break}},created:function(e){e.elm===t&&o.create(e)},added:function(e){null===e.elm.parentNode&&o.add(e)}};this.get=function(e,t){l.tryItemSourceExists(),l.created(e);for(var n={},r=0,a=t.length;a>r;r++)n[t[r]]=s.getByClass(t[r],e.elm)[0].innerHTML;return n},this.set=function(e,t){l.created(e);for(var n in t)if(t.hasOwnProperty(n)){var r=s.getByClass(n,e.elm,!0);r&&(r.innerHTML=t[n])}},this.create=function(e){if(e.elm===t){l.tryItemSourceExists();var n=i.cloneNode(!0);n.id="",e.elm=n,o.set(e,e.values())}},this.add=function(e){l.created(e),a.appendChild(e.elm)},this.remove=function(e){a.removeChild(e.elm)},this.show=function(e){l.created(e),l.added(e),a.appendChild(e.elm)},this.hide=function(e){e.elm!==t&&e.elm.parentNode===a&&a.removeChild(e.elm)},this.clear=function(){if(a.hasChildNodes())for(;a.childNodes.length>=1;)a.removeChild(a.firstChild)}},s={getByClass:function(){return r.getElementsByClassName?function(e,t,n){return n?t.getElementsByClassName(e)[0]:t.getElementsByClassName(e)}:function(e,t,n){var s=[],a="*";null==t&&(t=r);for(var i=t.getElementsByTagName(a),o=i.length,l=new RegExp("(^|\\s)"+e+"(\\s|$)"),c=0,u=0;o>c;c++)if(l.test(i[c].className)){if(n)return i[c];s[u]=i[c],u++}return s}}(),addEvent:function(e,n){return n.addEventListener?function(n,r,a){if((!n||n instanceof Array||n.length||s.isNodeList(n)||0===n.length)&&n!==e){if(n&&n[0]!==t)for(var i=n.length,o=0;i>o;o++)s.addEvent(n[o],r,a)}else n.addEventListener(r,a,!1)}:n.attachEvent?function(n,r,a){if((!n||n instanceof Array||n.length||s.isNodeList(n)||0===n.length)&&n!==e){if(n&&n[0]!==t)for(var i=n.length,o=0;i>o;o++)s.addEvent(n[o],r,a)}else n.attachEvent("on"+r,function(){return a.call(n,e.event)})}:void 0}(this,r),getAttribute:function(e,n){var s=e.getAttribute&&e.getAttribute(n)||null;if(!s)for(var r=e.attributes,a=r.length,i=0;a>i;i++)n[i]!==t&&n[i].nodeName===n&&(s=n[i].nodeValue);return s},isNodeList:function(e){var t=Object.prototype.toString.call(e);return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(t)&&(0==e.length||"object"==typeof node&&e[0].nodeType>0)?!0:!1},hasClass:function(e,t){var n=this.getAttribute(e,"class");return n.search(t)>-1},addClass:function(e,t){if(!this.hasClass(e,t)){var n=this.getAttribute(e,"class");n=n+" "+t+" ",n=n.replace(/\s{2,}/g," "),e.setAttribute("class",n)}},removeClass:function(e,t){if(this.hasClass(e,t)){var n=this.getAttribute(e,"class");n=n.replace(t,""),e.setAttribute("class",n)}}},e.List=n,e.ListJsHelpers=s}(window),classList=function(){var e=/\s+/,t=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},n=function(n,s){return function(r){var a=n.className.split(e),i=t.call(a,r);s(a,i,r),n.className=a.join(" ")}};return function(e){return e.classList||{add:n(e,function(e,t,n){~t||e.push(n)}),remove:n(e,function(e,t){~t&&e.splice(t,1)}),toggle:n(e,function(e,t,n){~t?e.splice(t,1):e.push(n)})}}}(),"undefined"!=typeof jQuery&&(jQuery.fn.prettyDate=function(){return this.each(function(){var e=prettyDate(this.title);e&&jQuery(this).text(e)})});var text;document.body.innerText?text=function(e,t){return t?e.innerText=t:e.innerText}:document.body.textContent&&(text=function(e,t){return t?e.textContent=t:e.textContent});var addEvent;window.attachEvent?addEvent=function(e,t,n){e.attachEvent("on"+t,n)}:window.addEventListener&&(addEvent=function(e,t,n,s){e.addEventListener(t,n,s)});var ies=["gtie6","gtie7","gtie8","gtie9","gtie10"],search=document.getElementById("livesearch"),searchresults=document.querySelectorAll(".features article"),searchurl=document.getElementById("searchurl"),currentActiveHash,lastActiveHash;[].map.call(searchresults,function(e){var t=e.querySelector(".tags"),n=text(t).split(" "),s=n.filter(function(e){return e.match(/gtie.*/)});n.push("showall");var r=ies.indexOf(s[0]);-1!==r&&(n=n.concat(ies.slice(r+1))),t.textContent=n.join(" ")});var listOptions={listClass:"features",valueNames:["kind","status","name","tags"]},featureList=new List("gfs",listOptions),noitemsNotification=document.querySelector("#noitems");search.onkeyup=updatesearch;for(var expandfeatures=document.querySelectorAll(".features article header"),count=expandfeatures.length,i=0;count>i;i++){expandfeatures[i].onclick=function(e){e=e||window.event;var t=e.target||e.srcElement,n=t.parentNode,s=t.querySelectorAll("h2")[0];classList(n).toggle("expanded"),s.setAttribute("aria-expanded","false"===s.getAttribute("aria-expanded")?"true":"false")};var h2elem=expandfeatures[i].querySelectorAll("h2")[0];h2elem.setAttribute("tabIndex","0"),h2elem.setAttribute("role","button"),h2elem.setAttribute("aria-expanded","false"),h2elem.onkeydown=function(e){if(13===e.keyCode||32===e.keyCode){e.preventDefault(),e=e||window.event;var t=e.target||e.srcElement,n=t.parentNode.parentNode;t.setAttribute("aria-expanded","false"===t.getAttribute("aria-expanded")?"true":"false"),classList(n).toggle("expanded")}},h2elem.onclick=function(e){e=e||window.event;var t=e.target||e.srcElement,n=t.parentNode.parentNode;t.setAttribute("aria-expanded","false"===t.getAttribute("aria-expanded")?"true":"false"),classList(n).toggle("expanded")}}var clicktags=document.querySelectorAll(".explore-features a");[].map.call(clicktags,function(e){e.onclick=function(){showsearch(/#(.*)/.exec(e.href)[1])}}),window.location.hash&&showsearch(/^#(.*)/.exec(window.location.hash)[1]),addEvent(window,"keyup",function(e){191===e.which&&document.activeElement!==search&&search.focus()});var clickmore=document.getElementById("clickmore");addEvent(clickmore,"click",function(e){classList(document.getElementById("moredetails")).toggle("active"),classList(clickmore).toggle("active"),e.preventDefault()});var supports3DTransforms=void 0!==document.body.style.webkitPerspective||void 0!==document.body.style.MozPerspective;linkify("a"),function(e,t){"use strict";var n=function(e,n){var s=new XMLHttpRequest;s.open("GET",e,!0),s.onload=function(){if(s.status>=200&&s.status<400){var e=JSON.parse(s.responseText);n(t,e)}else n("The server responded with an error")},s.onerror=function(){n("Something failed handling the AJAX request")},s.send()};n("//api.github.com/repos/h5bp/html5please/commits",function(e,t){if(e)throw e;var n=prettyDate(t[0].commit.committer.date);document.getElementById("last-updated").innerHTML="Site last updated "+n+"."})}(this);